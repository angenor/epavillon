# Fonctionnalités de la Page Profil - ePavilion

## Vue d'ensemble
La page profil est l'espace personnel de chaque utilisateur sur la plateforme ePavilion. Elle permet de gérer les informations personnelles, professionnelles, et les préférences de l'utilisateur, tout en offrant des fonctionnalités spécifiques selon le rôle (utilisateur standard, point focal UNFCCC, négociateur, formateur, administrateur).

## 1. Informations du Profil

### 1.1 Informations Personnelles
- **Consultation et modification** :
  - Prénom et nom
  - Photo de profil (avec aperçu HD et miniature)
  - Biographie professionnelle
  - Téléphone
  - Adresse physique
  - Pays de résidence (sélection depuis la table `countries`)

### 1.2 Informations Professionnelles
- **Organisation** :
  - Affichage de l'organisation actuelle
  - Recherche et sélection d'une organisation existante
  - Demande de création d'une nouvelle organisation
  - Statut de vérification de l'organisation
  - Badge "Organisation vérifiée" si validée par admin
  
- **Email professionnel** :
  - Email principal (non modifiable après inscription)
  - Email professionnel secondaire (optionnel)

### 1.3 Statut et Badges
- **Affichage des rôles actifs** :
  - Utilisateur standard
  - Point focal UNFCCC (avec date de validation)
  - Négociateur/Négociatrice (avec année de désignation)
  - Formateur
  - Administrateur/Super administrateur
  
- **Indicateurs de statut** :
  - Compte vérifié
  - Organisation vérifiée
  - Statut de blocage/suspension (visible uniquement pour l'utilisateur concerné et les admins)

## 2. Paramètres et Préférences

### 2.1 Préférences d'Affichage
- **Mode d'affichage** :
  - Basculement entre mode clair et sombre
  - Prévisualisation instantanée

### 2.2 Préférences de Notifications
- **Configuration détaillée** :
  - Notifications par email (activé/désactivé)
  - Notifications push (activé/désactivé)
  - Alertes pour événements en direct (désactivé/activé par défaut)
  - Choix des types de notifications :
    - Validation d'activités
    - Demandes de connexion
    - Messages reçus
    - Demandes de rendez-vous
    - Rappels de formation
    - Rappels d'événements
    - Annonces système
    - Newsletters

### 2.3 Paramètres de Confidentialité
- **Visibilité du profil** :
  - Activation/désactivation de la visibilité pour le réseautage
  - Choix des informations visibles publiquement
  - Gestion de la liste des utilisateurs bloqués

## 3. Sections Spécifiques par Rôle

### 3.1 Pour les Négociateurs
- **Historique des désignations** :
  - Années de désignation
  - Nombre total de désignations
  - Désigné par (point focal ou admin)
  
- **Expertise et participations** :
  - Thématiques de spécialisation
  - Liste des COP participées
  - Historique des concertations (titre, dates, lieu)
  
- **Accès rapide** :
  - Lien vers l'espace de négociation
  - Formations spécialisées disponibles

### 3.2 Pour les Points Focaux UNFCCC
- **Gestion des négociateurs** :
  - Liste des négociateurs désignés
  - Bouton pour désigner de nouveaux négociateurs
  - Historique des désignations effectuées

### 3.3 Pour les Formateurs
- **Activités de formation** :
  - Liste des formations animées
  - Statistiques de participation
  - Évaluations reçues

## 4. Activités et Participations

### 4.1 Activités Soumises
- **Liste des activités** :
  - Activités en brouillon
  - Activités soumises (en attente de validation)
  - Activités approuvées
  - Activités rejetées
  - Activités annulées
  
- **Actions disponibles** :
  - Modifier (si brouillon ou rejeté)
  - Voir les détails
  - Consulter l'historique des modifications
  - Supprimer (soft delete)

### 4.2 Inscriptions aux Activités
- **Activités inscrites** :
  - Liste des activités auxquelles l'utilisateur est inscrit
  - Lien de connexion personnel
  - Statut de participation (à venir, en cours, terminé)
  - Durée de participation enregistrée

### 4.3 Questions Posées
- **Suivi des questions** :
  - Questions posées lors des activités
  - Statut (répondue/non répondue)
  - Réponses reçues des intervenants

## 5. Formations et Certifications

### 5.1 Parcours de Formation
- **Formations en cours** :
  - Pourcentage de progression
  - Chapitres/leçons complétés
  - Temps de visionnage total
  
- **Formations terminées** :
  - Date de complétion
  - Score obtenu
  - Certificat téléchargeable

### 5.2 Résultats des Évaluations
- **Historique des évaluations** :
  - Score et pourcentage
  - Statut (réussi/échoué)
  - Certificats obtenus

### 5.3 Participation aux Quiz
- **Quiz en temps réel** :
  - Historique de participation
  - Scores et classements
  - Temps de réponse moyen

## 6. Réseautage et Connexions

### 6.1 Gestion des Connexions
- **Connexions actives** :
  - Liste des contacts acceptés
  - Accès rapide à la messagerie
  - Planification de rendez-vous

- **Demandes de connexion** :
  - Demandes reçues (en attente)
  - Demandes envoyées (en attente)
  - Historique des demandes (acceptées/refusées)

### 6.2 Blocages et Signalements
- **Utilisateurs bloqués** :
  - Liste des utilisateurs bloqués
  - Raison du blocage
  - Option de déblocage

## 7. Messagerie et Communications

### 7.1 Messages
- **Aperçu des messages** :
  - Nombre de messages non lus
  - Dernières conversations
  - Accès rapide à la messagerie

### 7.2 Groupes de Messagerie
- **Groupes actifs** :
  - Liste des groupes rejoints
  - Rôle dans le groupe (membre/admin)
  - Notifications de groupe

### 7.3 Rendez-vous
- **Rendez-vous planifiés** :
  - Rendez-vous à venir
  - Historique des rendez-vous
  - Statut (en attente, confirmé, annulé, terminé)

## 8. Innovations et Contributions

### 8.1 Innovations/Bonnes Pratiques
- **Contenus soumis** :
  - Liste des innovations/pratiques partagées
  - Statut de publication
  - Nombre de vues
  - Notes et réactions reçues

### 8.2 Témoignages
- **Témoignages donnés** :
  - Témoignages écrits
  - Vidéos courtes (max 60 secondes)
  - Contexte (innovation, formation, événement, plateforme)
  - Statut d'approbation

### 8.3 Commentaires
- **Activité de commentaires** :
  - Commentaires publiés
  - Statut de modération
  - Réponses reçues

## 9. Newsletters et Communications

### 9.1 Abonnements
- **Gestion des newsletters** :
  - Liste des newsletters actives
  - Options d'abonnement/désabonnement
  - Préférences de fréquence

### 9.2 Historique
- **Communications reçues** :
  - Emails système
  - Newsletters
  - Notifications importantes

## 10. Tableau de Bord Personnel

### 10.1 Statistiques d'Activité
- **Vue d'ensemble** :
  - Nombre d'activités soumises/participées
  - Formations complétées
  - Connexions actives
  - Taux de participation

### 10.2 Calendrier Personnel
- **Événements à venir** :
  - Activités inscrites
  - Sessions de formation
  - Rendez-vous planifiés
  - Sessions de négociation (si négociateur)

### 10.3 Actions Rapides
- **Raccourcis** :
  - Soumettre une nouvelle activité
  - S'inscrire à une formation
  - Envoyer un message
  - Planifier un rendez-vous

## 11. Sécurité et Compte

### 11.1 Sécurité du Compte
- **Gestion du mot de passe** :
  - Modification du mot de passe
  - Historique des connexions
  - Sessions actives

### 11.2 Suppression du Compte
- **Options de désactivation** :
  - Désactivation temporaire
  - Suppression définitive (avec période de grâce)
  - Export des données personnelles (RGPD)

## 12. Fonctionnalités Administrateur (si applicable)

### 12.1 Actions Administratives
- **Sur le profil utilisateur** :
  - Vérifier l'organisation
  - Attribuer/retirer des rôles
  - Bloquer/suspendre le compte
  - Voir l'historique complet des activités

### 12.2 Accès Rapides
- **Liens administratifs** :
  - Interface d'administration
  - Validation des activités
  - Gestion des utilisateurs
  - Statistiques globales

## Notes Techniques

### Permissions et Sécurité
- Utilisation des politiques RLS (Row Level Security) de Supabase
- Les utilisateurs ne peuvent modifier que leur propre profil
- Les admins ont accès étendu selon leur niveau
- Protection contre les modifications non autorisées

### Performance
- Chargement progressif des sections
- Mise en cache des données statiques
- Optimisation des requêtes pour les listes longues
- Compression automatique des images de profil

### Responsive Design
- Adaptation mobile/tablette/desktop
- Navigation tactile optimisée
- Formulaires adaptatifs selon l'écran